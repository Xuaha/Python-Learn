读写文件是最常见的 IO 操作。通常，我们使用 input 从控制台读取输入，使用 print 将内容输出到控制台。实际上，我们也经常从文件读取输入，将内容写到文件

# 读文件

在 Python 中，读文件主要分为三个步骤：

* 打开文件

* 读取内容

* 关闭文件

一般使用模式如下：

```python
try:
    f = open('/path/to/file', 'r')    # 打开文件
    data = f.read()                   # 读取文件内容
finally:
    if f:
        f.close()  
```

我们在代码中加了 try...finally，这是因为，如果打开和读取文件时出现错误，文件就没有被关闭。为了确保在任何情况下，文件都能被关闭

上述代码中`r`标识读文件，open 函数的常用模式主要有：

| mode|描述 |
| --- | --- |
| ‘r’ | 读模式 |
| ‘w’| 写模式 |
| ‘a’ | 追加模式 |
| ‘b’ | 二进制模式(可添加到其他模式) |
| ‘+’ | 读/写模式(可添加到其他模式) |

上面的读文件做法很繁琐，我们可以使用 Python 的 with 语句来帮我们自动调用 close 方法：

```python
with open('C:\\Users\\zhangxuan17\\Desktop\\data.txt','r') as f:
    data = f.read()
    print(data)
```

读取文件有以下几种方式：

* 一次性读取所有内容，使用 read() 或 readlines()；

* 按字节读取，使用 read(size)；

* 按行读取，使用 readline()；

* 读取所有内容

## 一次性读取所有内容

可以使用 `read()`  或者 `readlines()`

比如 data.txt中的内容如下(数字之间的分隔符是\t)

f.read()读取的内容格式跟文件实际是一致的
```python

10  1   9   9
6   3   2   8
20  10  3   23
1   4   1   10
10  8   6   3
10  2   1   6
```

如果使用f.readlines()，则读取的文件内容如下：
列表中的每个元素都是一个字符串，刚好是每一行的内容

```python

['10  1   9   9\n', '6   3   2   8\n', '20  10  3   23\n', '1   4   1   10\n', '10  8   6   3\n', '10  2   1   6']

```

## 按字节读取

如果文件较小，一次性读取所有内容确实比较方便。但是，如果文件很大，比如有 100G，那就不能一次性读取所有内容了。这时，我们构造一个固定长度的缓冲区，来不断读取文件内容。

# 写文件